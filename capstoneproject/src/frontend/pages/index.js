import Head from 'next/head'
import { useState,useEffect } from 'react'
import Header from '../components/Header'
import Register from '../components/Register'
import RegistrationForm from '../components/RegistrationForm'
import { getUserData } from './api/client'
//import { customerHandler } from './api/CustomerData'

export default function Home() {

  const [customers, setCustomers] = useState([]);

  const fetchCustomers = () =>
      getUserData()
        .then(data => {
            console.log(data);
            setCustomers(data);
        })

  useEffect(()=>{
   console.log("component is mounted");
   fetchCustomers();
  }, []);

  return (
    <div >
      <Head>
        <title>Hype Heads Full Stack App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head> 

      {/* Header */}

      <Header/>
       {/* Registration Form */}
       
      {/* <RegistrationForm/> */}
      {/* <Register/> */}

    {/* Return Customer info */}
      <h1>{customers.length}</h1>
    </div>
  )
}
